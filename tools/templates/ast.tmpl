// This file is auto generated by tools/generate_ast.go
package {{.PackageName}}

type Visitor interface {
{{- range .Types}}
    Visit{{.Name}}({{$.BaseName}} *{{.Name}}) interface{}
{{- end}}
}

type Expr interface {
	Accept(Visitor) interface{}
}

{{range .Types}}
type {{.Name}} struct {
{{- range .Fields}}
	{{.Name}} {{.Type}}
{{- end}}
}

func New{{.Name}}({{- range .Fields}} {{lower .Name}} {{.Type}}, {{end}}) *{{.Name}} {
	return &{{.Name}}{
		{{- range .Fields}}
		{{.Name}}: {{lower .Name}},
		{{- end}}
	}
}

func (expr *{{.Name}}) Accept(visitor Visitor) interface{} {
    return visitor.Visit{{.Name}}(expr)
}
{{end}}
